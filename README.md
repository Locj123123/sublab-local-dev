# SubLab Local Development Workspace

–õ–æ–∫–∞–ª—å–Ω–∏–π —Ä–æ–±–æ—á–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ SubLab —Å–∏—Å—Ç–µ–º–∏ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Docker Compose —Ç–∞ —î–¥–∏–Ω–æ—é –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö Supabase.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
- Docker Desktop
- Docker Compose
- Git

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
./start-servers.sh

# –ó—É–ø–∏–Ω–∫–∞ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
./stop-servers.sh
```

## üìã –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### üéØ –Ñ–¥–∏–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö Supabase
–¶–µ–π –ø—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **—î–¥–∏–Ω—É –±–∞–∑—É –¥–∞–Ω–∏—Ö Supabase** –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î:
- **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏** - –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –æ–¥–Ω—ñ—î—é –ë–î
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö** - –Ω–µ–º–∞—î –ø—Ä–æ–±–ª–µ–º –∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ –ë–î
- **–°–ø—Ä–æ—â–µ–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞** - –æ–¥–∏–Ω –Ω–∞–±—ñ—Ä –º—ñ–≥—Ä–∞—Ü—ñ–π —Ç–∞ —Å—Ö–µ–º
- **–ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤** - –º–µ–Ω—à–µ –Ω–∞–∫–ª–∞–¥–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç
- **–õ–µ–≥–∫–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - –≤—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –æ–¥–Ω—ñ—î—é –ë–î

### –ë–∞–∑–æ–≤—ñ —Å–µ—Ä–≤—ñ—Å–∏
- **Supabase Local** (–ø–æ—Ä—Ç 54321) - –õ–æ–∫–∞–ª—å–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ö–µ–º–æ—é
- **Supabase Studio** (–ø–æ—Ä—Ç 54323) - –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
- **Redis** (–ø–æ—Ä—Ç 6379) - –ö–µ—à —Ç–∞ —á–µ—Ä–≥–∏
- **Frontend** (–ø–æ—Ä—Ç 5173) - React –¥–æ–¥–∞—Ç–æ–∫
- **Chat Assistant API** (–ø–æ—Ä—Ç 8001) - API –¥–ª—è —á–∞—Ç-–∞—Å–∏—Å—Ç–µ–Ω—Ç–∞

### SubLab —Å–µ—Ä–≤—ñ—Å–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- **SubLab V1** (–ø–æ—Ä—Ç 8002) - Orchestrator
- **SubLab V2** (–ø–æ—Ä—Ç 8003) - Modules & Images
- **SubLab V3** (–ø–æ—Ä—Ç 8004) - Audio Generation
- **SubLab V4** (–ø–æ—Ä—Ç 8005) - Audio Assembly
- **SubLab V5** (–ø–æ—Ä—Ç 8006) - Audio Mixing

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### Environment Variables
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏:

```env
# ===========================================
# SUPABASE - –Ñ–î–ò–ù–ê –ë–ê–ó–ê –î–ê–ù–ò–•
# ===========================================
# Supabase Local (–≤–Ω—É—Ç—Ä—ñ—à–Ω—è –º–µ—Ä–µ–∂–∞ Docker –¥–ª—è backend)
SUPABASE_URL=http://supabase:54321
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# Frontend Supabase (–¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ - localhost)
VITE_SUPABASE_URL=http://127.0.0.1:54321
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0

# –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö PostgreSQL (–ø—Ä—è–º–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è)
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# ===========================================
# REDIS - –ö–ï–® –¢–ê –ß–ï–†–ì–ò
# ===========================================
REDIS_URL=redis://redis:6379

# ===========================================
# API –ö–õ–Æ–ß–Ü
# ===========================================
OPENAI_API_KEY=your_openai_key
ELEVENLABS_API_KEY=your_elevenlabs_key
REPLICATE_API_TOKEN=your_replicate_token
VITE_STRIPE_PUBLIC_KEY=your_stripe_key
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
.
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ start-servers.sh        # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤—ñ—Å—ñ–≤
‚îú‚îÄ‚îÄ stop-servers.sh         # –°–∫—Ä–∏–ø—Ç –∑—É–ø–∏–Ω–∫–∏ —Å–µ—Ä–≤—ñ—Å—ñ–≤
‚îú‚îÄ‚îÄ .env                    # Environment –∑–º—ñ–Ω–Ω—ñ (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
‚îú‚îÄ‚îÄ .gitignore             # Git ignore –ø—Ä–∞–≤–∏–ª–∞
‚îú‚îÄ‚îÄ frontsublab/           # Frontend React –¥–æ–¥–∞—Ç–æ–∫
‚îú‚îÄ‚îÄ chat-assistant-api/    # Chat Assistant API (—è–∫—â–æ —ñ—Å–Ω—É—î)
‚îú‚îÄ‚îÄ sublab-v1/            # SubLab V1 —Å–µ—Ä–≤—ñ—Å (—è–∫—â–æ —ñ—Å–Ω—É—î)
‚îú‚îÄ‚îÄ sublab-v2/            # SubLab V2 —Å–µ—Ä–≤—ñ—Å (—è–∫—â–æ —ñ—Å–Ω—É—î)
‚îú‚îÄ‚îÄ sublab-v3/            # SubLab V3 —Å–µ—Ä–≤—ñ—Å (—è–∫—â–æ —ñ—Å–Ω—É—î)
‚îú‚îÄ‚îÄ sublab-v4/            # SubLab V4 —Å–µ—Ä–≤—ñ—Å (—è–∫—â–æ —ñ—Å–Ω—É—î)
‚îî‚îÄ‚îÄ sublab-v5/            # SubLab V5 —Å–µ—Ä–≤—ñ—Å (—è–∫—â–æ —ñ—Å–Ω—É—î)
```

## üõ†Ô∏è –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ —Å–µ—Ä–≤—ñ—Å—É
docker-compose logs -f [service-name]

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å
docker-compose restart [service-name]

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å—Ç–∞—Ç—É—Å –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose ps

# –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ —î–¥–∏–Ω–æ—ó Supabase –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
psql postgresql://postgres:postgres@localhost:54322/postgres

# –ü–æ–≤–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è (–≤–∏–¥–∞–ª—è—î volumes)
docker-compose down -v --remove-orphans
```

## üîÑ –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö SubLab —Å–µ—Ä–≤—ñ—Å—ñ–≤

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞–ø–∫—É `./sublab-vX` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `./sublab-v1`)
2. –î–æ–¥–∞–π—Ç–µ `Dockerfile` –≤ –ø–∞–ø–∫—É
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç - —Å–µ—Ä–≤—ñ—Å –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—è–≤–ª–µ–Ω–æ!

## üìä –î–æ—Å—Ç—É–ø–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É

- **Supabase Database (–Ñ–¥–∏–Ω–∞ –ë–î)**: localhost:54321 (API) / localhost:54322 (PostgreSQL)
- **Supabase Studio**: http://localhost:54323 (–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ë–î)
- **Redis Cache**: localhost:6379
- **Frontend (React App)**: http://localhost:5173
- **Chat Assistant API**: http://localhost:8001
- **SubLab V1**: http://localhost:8002 (—è–∫—â–æ —ñ—Å–Ω—É—î)
- **SubLab V2**: http://localhost:8003 (—è–∫—â–æ —ñ—Å–Ω—É—î)
- **SubLab V3**: http://localhost:8004 (—è–∫—â–æ —ñ—Å–Ω—É—î)
- **SubLab V4**: http://localhost:8005 (—è–∫—â–æ —ñ—Å–Ω—É—î)
- **SubLab V5**: http://localhost:8006 (—è–∫—â–æ —ñ—Å–Ω—É—î)

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ—Ä—Ç –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —è–∫—ñ –ø—Ä–æ—Ü–µ—Å–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø–æ—Ä—Ç
lsof -i :5173

# –ó—É–ø–∏–Ω–∏—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
docker-compose down
```

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ Docker
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ Docker Desktop
# –ê–±–æ –æ—á–∏—Å—Ç–∏—Ç–∏ Docker –∫–µ—à
docker system prune -a
```

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —î —á–∞—Å—Ç–∏–Ω–æ—é SubLab —Å–∏—Å—Ç–µ–º–∏ —Ä–æ–∑—Ä–æ–±–∫–∏.
